{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{useTheme}from'../contexts/ThemeContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{var _user$name;const{user,logout,isAuthenticated}=useAuth();const{theme,toggleTheme}=useTheme();const navigate=useNavigate();const[isMenuOpen,setIsMenuOpen]=useState(false);const handleLogout=()=>{logout();navigate('/');setIsMenuOpen(false);};const handleCreatePoll=()=>{if(!isAuthenticated){navigate('/login');}else{navigate('/create');}setIsMenuOpen(false);};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-content\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"navbar-brand\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-poll\"}),\"VoteForm\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav desktop-nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-link\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/polls\",className:\"navbar-link\",children:\"Browse Polls\"}),isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"navbar-link\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreatePoll,className:\"btn btn-primary btn-sm\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\"Create Poll\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"user-avatar\",onClick:()=>setIsMenuOpen(!isMenuOpen),children:user!==null&&user!==void 0&&user.avatar?/*#__PURE__*/_jsx(\"img\",{src:user.avatar,alt:user.name}):/*#__PURE__*/_jsx(\"div\",{className:\"avatar-placeholder\",children:user===null||user===void 0?void 0:(_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.charAt(0).toUpperCase()})}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-name\",children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"user-email\",children:user===null||user===void 0?void 0:user.email})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(Link,{to:\"/dashboard\",className:\"dropdown-item\",onClick:()=>setIsMenuOpen(false),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tachometer-alt\"}),\"Dashboard\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"dropdown-item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-out-alt\"}),\"Logout\"]})]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreatePoll,className:\"btn btn-outline btn-sm\",children:\"Create Poll\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-primary btn-sm\",children:\"Sign In\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleTheme,className:\"theme-toggle\",title:\"Switch to \".concat(theme==='light'?'dark':'light',\" mode\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(theme==='light'?'fa-moon':'fa-sun')})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"mobile-menu-btn\",onClick:()=>setIsMenuOpen(!isMenuOpen),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(isMenuOpen?'fa-times':'fa-bars')})})]}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"mobile-nav-link\",onClick:()=>setIsMenuOpen(false),children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/polls\",className:\"mobile-nav-link\",onClick:()=>setIsMenuOpen(false),children:\"Browse Polls\"}),isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"mobile-nav-link\",onClick:()=>setIsMenuOpen(false),children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreatePoll,className:\"mobile-nav-link\",children:\"Create Poll\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"mobile-nav-link\",children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreatePoll,className:\"mobile-nav-link\",children:\"Create Poll\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"mobile-nav-link\",onClick:()=>setIsMenuOpen(false),children:\"Sign In\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:toggleTheme,className:\"mobile-nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(theme==='light'?'fa-moon':'fa-sun')}),theme==='light'?'Dark Mode':'Light Mode']})]})]})});};export default Navbar;","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","useTheme","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","_user$name","user","logout","isAuthenticated","theme","toggleTheme","navigate","isMenuOpen","setIsMenuOpen","handleLogout","handleCreatePoll","className","children","to","onClick","avatar","src","alt","name","charAt","toUpperCase","email","title","concat"],"sources":["D:/voting/voting_app/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useTheme } from '../contexts/ThemeContext';\n\nconst Navbar = () => {\n  const { user, logout, isAuthenticated } = useAuth();\n  const { theme, toggleTheme } = useTheme();\n  const navigate = useNavigate();\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  const handleLogout = () => {\n    logout();\n    navigate('/');\n    setIsMenuOpen(false);\n  };\n\n  const handleCreatePoll = () => {\n    if (!isAuthenticated) {\n      navigate('/login');\n    } else {\n      navigate('/create');\n    }\n    setIsMenuOpen(false);\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"container\">\n        <div className=\"navbar-content\">\n          {/* Brand */}\n          <Link to=\"/\" className=\"navbar-brand\">\n            <i className=\"fas fa-poll\"></i>\n            VoteForm\n          </Link>\n\n          {/* Desktop Navigation */}\n          <div className=\"navbar-nav desktop-nav\">\n            <Link to=\"/\" className=\"navbar-link\">\n              Home\n            </Link>\n            <Link to=\"/polls\" className=\"navbar-link\">\n              Browse Polls\n            </Link>\n            \n            {isAuthenticated ? (\n              <>\n                <Link to=\"/dashboard\" className=\"navbar-link\">\n                  Dashboard\n                </Link>\n                <button \n                  onClick={handleCreatePoll}\n                  className=\"btn btn-primary btn-sm\"\n                >\n                  <i className=\"fas fa-plus\"></i>\n                  Create Poll\n                </button>\n                <div className=\"user-menu\">\n                  <button \n                    className=\"user-avatar\"\n                    onClick={() => setIsMenuOpen(!isMenuOpen)}\n                  >\n                    {user?.avatar ? (\n                      <img src={user.avatar} alt={user.name} />\n                    ) : (\n                      <div className=\"avatar-placeholder\">\n                        {user?.name?.charAt(0).toUpperCase()}\n                      </div>\n                    )}\n                  </button>\n                  \n                  {isMenuOpen && (\n                    <div className=\"dropdown-menu\">\n                      <div className=\"dropdown-header\">\n                        <div className=\"user-info\">\n                          <div className=\"user-name\">{user?.name}</div>\n                          <div className=\"user-email\">{user?.email}</div>\n                        </div>\n                      </div>\n                      <div className=\"dropdown-divider\"></div>\n                      <Link \n                        to=\"/dashboard\" \n                        className=\"dropdown-item\"\n                        onClick={() => setIsMenuOpen(false)}\n                      >\n                        <i className=\"fas fa-tachometer-alt\"></i>\n                        Dashboard\n                      </Link>\n                      <button \n                        onClick={handleLogout}\n                        className=\"dropdown-item\"\n                      >\n                        <i className=\"fas fa-sign-out-alt\"></i>\n                        Logout\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </>\n            ) : (\n              <>\n                <button \n                  onClick={handleCreatePoll}\n                  className=\"btn btn-outline btn-sm\"\n                >\n                  Create Poll\n                </button>\n                <Link to=\"/login\" className=\"btn btn-primary btn-sm\">\n                  Sign In\n                </Link>\n              </>\n            )}\n\n            {/* Theme Toggle */}\n            <button \n              onClick={toggleTheme}\n              className=\"theme-toggle\"\n              title={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\n            >\n              <i className={`fas ${theme === 'light' ? 'fa-moon' : 'fa-sun'}`}></i>\n            </button>\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button \n            className=\"mobile-menu-btn\"\n            onClick={() => setIsMenuOpen(!isMenuOpen)}\n          >\n            <i className={`fas ${isMenuOpen ? 'fa-times' : 'fa-bars'}`}></i>\n          </button>\n        </div>\n\n        {/* Mobile Navigation */}\n        {isMenuOpen && (\n          <div className=\"mobile-nav\">\n            <Link \n              to=\"/\" \n              className=\"mobile-nav-link\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Home\n            </Link>\n            <Link \n              to=\"/polls\" \n              className=\"mobile-nav-link\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Browse Polls\n            </Link>\n            \n            {isAuthenticated ? (\n              <>\n                <Link \n                  to=\"/dashboard\" \n                  className=\"mobile-nav-link\"\n                  onClick={() => setIsMenuOpen(false)}\n                >\n                  Dashboard\n                </Link>\n                <button \n                  onClick={handleCreatePoll}\n                  className=\"mobile-nav-link\"\n                >\n                  Create Poll\n                </button>\n                <button \n                  onClick={handleLogout}\n                  className=\"mobile-nav-link\"\n                >\n                  Logout\n                </button>\n              </>\n            ) : (\n              <>\n                <button \n                  onClick={handleCreatePoll}\n                  className=\"mobile-nav-link\"\n                >\n                  Create Poll\n                </button>\n                <Link \n                  to=\"/login\" \n                  className=\"mobile-nav-link\"\n                  onClick={() => setIsMenuOpen(false)}\n                >\n                  Sign In\n                </Link>\n              </>\n            )}\n            \n            <button \n              onClick={toggleTheme}\n              className=\"mobile-nav-link\"\n            >\n              <i className={`fas ${theme === 'light' ? 'fa-moon' : 'fa-sun'}`}></i>\n              {theme === 'light' ? 'Dark Mode' : 'Light Mode'}\n            </button>\n          </div>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}